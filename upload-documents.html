<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Documents | MIRA BOOKING</title>
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/document-upload.css">
</head>
<body class="dashboard-body">
    <!-- Dashboard Layout Wrapper -->
    <div class="dashboard-wrapper">
        <!-- Sidebar Navigation -->
        <aside class="dashboard-sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <a href="index.html">
                        <img src="img/logo.png" alt="MIRA BOOKING Logo">
                        <span>MIRA BOOKING</span>
                    </a>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <div class="user-profile">
                <div class="user-avatar">
                    <img src="img/avatar-placeholder.jpg" alt="User Avatar" id="userAvatar">
                </div>
                <div class="user-info">
                    <h4 id="userName">John Doe</h4>
                    <p id="userType">Client</p>
                </div>
            </div>
            
            <!-- B2C Navigation (Client) -->
            <nav class="sidebar-nav">
                <ul class="nav-menu">
                    <li class="nav-title">Client Menu</li>
                    <li class="nav-item">
                        <a href="client-dashboard.html" class="nav-link">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="client-profile.html" class="nav-link">
                            <i class="fas fa-user-circle"></i>
                            <span>My Profile</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="upload-documents.html" class="nav-link active">
                            <i class="fas fa-passport"></i>
                            <span>Upload Documents</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="browse-destinations.html" class="nav-link">
                            <i class="fas fa-globe-americas"></i>
                            <span>Browse Destinations</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="my-bookings.html" class="nav-link">
                            <i class="fas fa-suitcase"></i>
                            <span>My Bookings</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="custom-packages.html" class="nav-link">
                            <i class="fas fa-cube"></i>
                            <span>Custom Packages</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="payment-history.html" class="nav-link">
                            <i class="fas fa-credit-card"></i>
                            <span>Payment History</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="client-support.html" class="nav-link">
                            <i class="fas fa-headset"></i>
                            <span>Support</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <a href="user-settings.html" class="footer-link">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
                <a href="#" class="footer-link" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </div>
        </aside>
        
        <!-- Main Content Area -->
        <main class="dashboard-main">
            <!-- Top Header -->
            <header class="dashboard-header">
                <div class="header-search">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search...">
                </div>
                
                <div class="header-actions">
                    <div class="notification-dropdown">
                        <button class="notification-btn">
                            <i class="fas fa-bell"></i>
                            <span class="badge">2</span>
                        </button>
                        <div class="dropdown-content">
                            <div class="dropdown-header">
                                <h3>Notifications</h3>
                                <a href="#">Mark all as read</a>
                            </div>
                            <ul class="notification-list">
                                <li class="notification-item unread">
                                    <div class="notification-icon">
                                        <i class="fas fa-passport"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p>Please upload your passport for verification.</p>
                                        <span class="notification-time">1 day ago</span>
                                    </div>
                                </li>
                                <li class="notification-item unread">
                                    <div class="notification-icon">
                                        <i class="fas fa-plane"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p>Your upcoming trip to Paris requires visa documentation.</p>
                                        <span class="notification-time">2 days ago</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="user-dropdown">
                        <button class="user-btn">
                            <img src="img/avatar-placeholder.jpg" alt="User Avatar">
                            <span class="user-name">John Doe</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="dropdown-content">
                            <ul>
                                <li><a href="client-profile.html"><i class="fas fa-user"></i> My Profile</a></li>
                                <li><a href="user-settings.html"><i class="fas fa-cog"></i> Settings</a></li>
                                <li><a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Content Container -->
            <div class="content-container">
                <div class="page-header">
                    <h1>Upload Travel Documents</h1>
                    <p>Upload your travel documents for verification to complete your booking process.</p>
                </div>
                
                <!-- Document Upload Section -->
                <div class="dashboard-card document-upload-section">
                    <div class="dashboard-card-header">
                        <h2>Required Documents</h2>
                        <div class="document-status-summary">
                            <span class="document-status-item">
                                <i class="fas fa-check-circle text-success"></i> Complete: 0
                            </span>
                            <span class="document-status-item">
                                <i class="fas fa-clock text-warning"></i> Pending: 0
                            </span>
                            <span class="document-status-item">
                                <i class="fas fa-times-circle text-danger"></i> Missing: 2
                            </span>
                        </div>
                    </div>
                    <div class="dashboard-card-body">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i>
                            <div>
                                <strong>Important:</strong> Please upload clear, high-resolution scans or photos of your documents. Ensure all information is visible and legible.
                            </div>
                        </div>
                        
                        <!-- Passport Upload -->
                        <div class="document-upload-container">
                            <div class="document-upload-header">
                                <h3><i class="fas fa-passport"></i> Passport</h3>
                                <span class="document-badge required">Required</span>
                            </div>
                            <div class="document-upload-content">
                                <p>Upload a clear scan or photo of your passport's information page. This should include your photo, full name, date of birth, passport number, and expiration date.</p>
                                
                                <div class="file-upload" id="passportUpload">
                                    <div class="file-upload-icon">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </div>
                                    <div class="file-upload-text">Drag & drop your passport scan here</div>
                                    <div class="file-upload-subtext">or click to browse files</div>
                                    <input type="file" id="passportFile" accept="image/jpeg, image/png, application/pdf" />
                                </div>
                                
                                <div class="upload-requirements">
                                    <h4>Requirements:</h4>
                                    <ul>
                                        <li>File must be JPEG, PNG, or PDF format</li>
                                        <li>Maximum file size: 5MB</li>
                                        <li>Document must be valid for at least 6 months beyond your travel dates</li>
                                        <li>All information must be clearly visible</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="document-upload-preview" id="passportPreview" style="display: none;">
                                <div class="preview-header">
                                    <h4>Preview</h4>
                                    <button class="btn btn-sm btn-outline remove-preview" data-target="passport">
                                        <i class="fas fa-trash"></i> Remove
                                    </button>
                                </div>
                                <div class="preview-image">
                                    <img src="" alt="Passport Preview" id="passportPreviewImg">
                                </div>
                                <div class="preview-details">
                                    <div class="preview-info">
                                        <span class="preview-label">File Name:</span>
                                        <span class="preview-value" id="passportFileName">-</span>
                                    </div>
                                    <div class="preview-info">
                                        <span class="preview-label">File Size:</span>
                                        <span class="preview-value" id="passportFileSize">-</span>
                                    </div>
                                    <div class="preview-info">
                                        <span class="preview-label">Upload Date:</span>
                                        <span class="preview-value" id="passportUploadDate">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Visa Upload -->
                        <div class="document-upload-container">
                            <div class="document-upload-header">
                                <h3><i class="fas fa-id-card"></i> Visa (if applicable)</h3>
                                <span class="document-badge required">Required for Paris Trip</span>
                            </div>
                            <div class="document-upload-content">
                                <p>Upload a clear scan or photo of your visa for your destination. If you're traveling to multiple countries, please upload all relevant visas.</p>
                                
                                <div class="file-upload" id="visaUpload">
                                    <div class="file-upload-icon">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </div>
                                    <div class="file-upload-text">Drag & drop your visa scan here</div>
                                    <div class="file-upload-subtext">or click to browse files</div>
                                    <input type="file" id="visaFile" accept="image/jpeg, image/png, application/pdf" />
                                </div>
                                
                                <div class="upload-requirements">
                                    <h4>Requirements:</h4>
                                    <ul>
                                        <li>File must be JPEG, PNG, or PDF format</li>
                                        <li>Maximum file size: 5MB</li>
                                        <li>Visa must be valid for your entire stay</li>
                                        <li>All information must be clearly visible</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="document-upload-preview" id="visaPreview" style="display: none;">
                                <div class="preview-header">
                                    <h4>Preview</h4>
                                    <button class="btn btn-sm btn-outline remove-preview" data-target="visa">
                                        <i class="fas fa-trash"></i> Remove
                                    </button>
                                </div>
                                <div class="preview-image">
                                    <img src="" alt="Visa Preview" id="visaPreviewImg">
                                </div>
                                <div class="preview-details">
                                    <div class="preview-info">
                                        <span class="preview-label">File Name:</span>
                                        <span class="preview-value" id="visaFileName">-</span>
                                    </div>
                                    <div class="preview-info">
                                        <span class="preview-label">File Size:</span>
                                        <span class="preview-value" id="visaFileSize">-</span>
                                    </div>
                                    <div class="preview-info">
                                        <span class="preview-label">Upload Date:</span>
                                        <span class="preview-value" id="visaUploadDate">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Additional Documents -->
                        <div class="document-upload-container">
                            <div class="document-upload-header">
                                <h3><i class="fas fa-file-alt"></i> Additional Documents</h3>
                                <span class="document-badge optional">Optional</span>
                            </div>
                            <div class="document-upload-content">
                                <p>Upload any additional documents that may be required for your trip, such as travel insurance, vaccination certificates, or hotel reservations.</p>
                                
                                <div class="file-upload" id="additionalUpload">
                                    <div class="file-upload-icon">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </div>
                                    <div class="file-upload-text">Drag & drop your additional documents here</div>
                                    <div class="file-upload-subtext">or click to browse files</div>
                                    <input type="file" id="additionalFile" accept="image/jpeg, image/png, application/pdf" multiple />
                                </div>
                                
                                <div class="upload-requirements">
                                    <h4>Requirements:</h4>
                                    <ul>
                                        <li>Files must be JPEG, PNG, or PDF format</li>
                                        <li>Maximum file size: 5MB per file</li>
                                        <li>You can upload multiple files</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="document-upload-preview" id="additionalPreview" style="display: none;">
                                <div class="preview-header">
                                    <h4>Files</h4>
                                </div>
                                <div class="additional-files-list" id="additionalFilesList">
                                    <!-- Additional files will be listed here dynamically -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="document-actions">
                            <button class="btn btn-primary btn-lg" id="saveDocuments">
                                <i class="fas fa-save"></i> Save Documents
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Uploaded Documents -->
                <div class="dashboard-card uploaded-document-list">
                    <div class="dashboard-card-header">
                        <h2>Uploaded Documents</h2>
                    </div>
                    <div class="dashboard-card-body">
                        <div class="no-documents-message" id="noDocumentsMessage">
                            <i class="fas fa-folder-open"></i>
                            <p>You haven't uploaded any documents yet.</p>
                        </div>
                        
                        <div class="document-list" id="uploadedDocumentsList" style="display: none;">
                            <!-- Documents will be listed here dynamically -->
                        </div>
                    </div>
                </div>
                
                <!-- Document Verification Guide -->
                <div class="dashboard-card">
                    <div class="dashboard-card-header">
                        <h2>Document Verification Guide</h2>
                    </div>
                    <div class="dashboard-card-body">
                        <div class="verification-steps">
                            <div class="verification-step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h3>Upload Document</h3>
                                    <p>Upload a clear, high-resolution scan or photo of your document.</p>
                                </div>
                            </div>
                            <div class="verification-step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h3>Review Status</h3>
                                    <p>After uploading, your document status will change to "Pending Verification".</p>
                                </div>
                            </div>
                            <div class="verification-step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h3>Verification Process</h3>
                                    <p>Our team will review your documents, typically within 24-48 hours.</p>
                                </div>
                            </div>
                            <div class="verification-step">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h3>Confirmation</h3>
                                    <p>Once verified, the document status will change to "Verified". If there are issues, you'll be notified to reupload.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="verification-tips">
                            <h3>Tips for Successful Document Verification</h3>
                            <ul>
                                <li>Ensure all text is clearly legible</li>
                                <li>Make sure the entire document is visible in the image</li>
                                <li>Avoid glare or shadows on the document</li>
                                <li>Use a neutral background</li>
                                <li>Upload documents in color, not black and white</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- JavaScript -->
    <script src="js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Toggle sidebar
            const sidebarToggle = document.getElementById('sidebarToggle');
            const dashboardWrapper = document.querySelector('.dashboard-wrapper');
            
            sidebarToggle.addEventListener('click', function() {
                dashboardWrapper.classList.toggle('sidebar-collapsed');
            });
            
            // Dropdown functionality
            const dropdownButtons = document.querySelectorAll('.notification-btn, .user-btn');
            
            dropdownButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const dropdown = this.nextElementSibling;
                    dropdown.classList.toggle('show');
                    
                    // Close other dropdowns
                    dropdownButtons.forEach(otherButton => {
                        if (otherButton !== button) {
                            otherButton.nextElementSibling.classList.remove('show');
                        }
                    });
                });
            });
            
            // Close dropdowns when clicking outside
            window.addEventListener('click', function(e) {
                if (!e.target.matches('.notification-btn') && 
                    !e.target.matches('.user-btn') &&
                    !e.target.closest('.dropdown-content') &&
                    !e.target.matches('.fas')) {
                    
                    document.querySelectorAll('.dropdown-content').forEach(dropdown => {
                        dropdown.classList.remove('show');
                    });
                }
            });
            
            // File Upload Handling
            const fileInputs = document.querySelectorAll('input[type="file"]');
            
            fileInputs.forEach(input => {
                // Handle drag and drop
                const uploadArea = input.closest('.file-upload');
                
                ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                    uploadArea.addEventListener(eventName, preventDefaults, false);
                });
                
                function preventDefaults(e) {
                    e.preventDefault();
                    e.stopPropagation();
                }
                
                ['dragenter', 'dragover'].forEach(eventName => {
                    uploadArea.addEventListener(eventName, highlight, false);
                });
                
                ['dragleave', 'drop'].forEach(eventName => {
                    uploadArea.addEventListener(eventName, unhighlight, false);
                });
                
                function highlight() {
                    uploadArea.classList.add('highlight');
                }
                
                function unhighlight() {
                    uploadArea.classList.remove('highlight');
                }
                
                // Handle file drop
                uploadArea.addEventListener('drop', handleDrop, false);
                
                function handleDrop(e) {
                    const dt = e.dataTransfer;
                    const files = dt.files;
                    
                    if (input.id === 'additionalFile' && files.length) {
                        input.files = files;
                        handleAdditionalFiles(files);
                    } else if (files.length) {
                        input.files = files;
                        handleFileSelect({target: input});
                    }
                }
                
                // Handle file select
                input.addEventListener('change', handleFileSelect);
            });
            
            function handleFileSelect(e) {
                const input = e.target;
                const file = input.files[0];
                
                if (!file) return;
                
                const fileType = input.id.replace('File', '');
                const preview = document.getElementById(`${fileType}Preview`);
                const previewImg = document.getElementById(`${fileType}PreviewImg`);
                const fileName = document.getElementById(`${fileType}FileName`);
                const fileSize = document.getElementById(`${fileType}FileSize`);
                const uploadDate = document.getElementById(`${fileType}UploadDate`);
                
                // Check file type
                const acceptedTypes = ['image/jpeg', 'image/png', 'application/pdf'];
                if (!acceptedTypes.includes(file.type)) {
                    alert('Invalid file type. Please upload a JPEG, PNG, or PDF file.');
                    input.value = '';
                    return;
                }
                
                // Check file size (5MB max)
                if (file.size > 5 * 1024 * 1024) {
                    alert('File size exceeds the 5MB limit. Please upload a smaller file.');
                    input.value = '';
                    return;
                }
                
                // Show preview for image files
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        previewImg.src = e.target.result;
                    };
                    reader.readAsDataURL(file);
                } else {
                    // For PDF files, show a placeholder
                    previewImg.src = 'img/pdf-icon.png';
                }
                
                // Update file info
                fileName.textContent = file.name;
                fileSize.textContent = formatFileSize(file.size);
                uploadDate.textContent = new Date().toLocaleString();
                
                // Show preview section
                preview.style.display = 'block';
                
                // TODO: In a real app, we would upload the file to the server here
            }
            
            function handleAdditionalFiles(files) {
                const preview = document.getElementById('additionalPreview');
                const filesList = document.getElementById('additionalFilesList');
                
                // Clear previous files
                filesList.innerHTML = '';
                
                // Process each file
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    
                    // Check file type
                    const acceptedTypes = ['image/jpeg', 'image/png', 'application/pdf'];
                    if (!acceptedTypes.includes(file.type)) {
                        alert(`Invalid file type: ${file.name}. Please upload only JPEG, PNG, or PDF files.`);
                        continue;
                    }
                    
                    // Check file size (5MB max)
                    if (file.size > 5 * 1024 * 1024) {
                        alert(`File size exceeds the 5MB limit: ${file.name}. Please upload smaller files.`);
                        continue;
                    }
                    
                    // Create file item
                    const fileItem = document.createElement('div');
                    fileItem.className = 'additional-file-item';
                    
                    // Determine icon based on file type
                    let iconClass = 'fa-file';
                    if (file.type === 'application/pdf') iconClass = 'fa-file-pdf';
                    else if (file.type.startsWith('image/')) iconClass = 'fa-file-image';
                    
                    fileItem.innerHTML = `
                        <div class="file-icon">
                            <i class="fas ${iconClass}"></i>
                        </div>
                        <div class="file-info">
                            <div class="file-name">${file.name}</div>
                            <div class="file-meta">
                                <span class="file-size">${formatFileSize(file.size)}</span>
                                <span class="file-date">Uploaded: ${new Date().toLocaleString()}</span>
                            </div>
                        </div>
                        <div class="file-actions">
                            <button class="btn btn-sm btn-outline remove-file">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                    
                    // Add remove functionality
                    const removeBtn = fileItem.querySelector('.remove-file');
                    removeBtn.addEventListener('click', function() {
                        fileItem.remove();
                        if (filesList.children.length === 0) {
                            preview.style.display = 'none';
                        }
                    });
                    
                    filesList.appendChild(fileItem);
                }
                
                // Show preview section if files were added
                if (filesList.children.length > 0) {
                    preview.style.display = 'block';
                }
                
                // TODO: In a real app, we would upload the files to the server here
            }
            
            // Helper function to format file size
            function formatFileSize(bytes) {
                if (bytes < 1024) return bytes + ' bytes';
                else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
                else return (bytes / 1048576).toFixed(1) + ' MB';
            }
            
            // Handle remove preview
            const removeButtons = document.querySelectorAll('.remove-preview');
            
            removeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const target = this.dataset.target;
                    const preview = document.getElementById(`${target}Preview`);
                    const input = document.getElementById(`${target}File`);
                    
                    // Hide preview and reset file input
                    preview.style.display = 'none';
                    input.value = '';
                });
            });
            
            // Save Documents button
            document.getElementById('saveDocuments').addEventListener('click', function() {
                // Check if any files have been uploaded
                const passport = document.getElementById('passportFile').files[0];
                const visa = document.getElementById('visaFile').files[0];
                const additional = document.getElementById('additionalFile').files;
                
                if (!passport && !visa && additional.length === 0) {
                    alert('Please upload at least one document before saving.');
                    return;
                }
                
                // In a real app, we would make an API call to save the documents
                // For this demo, we'll simulate a successful upload
                alert('Documents saved successfully! They will be verified within 24-48 hours.');
                
                // Update document status summary (in a real app, this would be from the server)
                const completeCount = document.querySelector('.document-status-item:nth-child(1)');
                const pendingCount = document.querySelector('.document-status-item:nth-child(2)');
                const missingCount = document.querySelector('.document-status-item:nth-child(3)');
                
                let complete = 0;
                let pending = 0;
                let missing = 2;
                
                if (passport) {
                    pending++;
                    missing--;
                }
                
                if (visa) {
                    pending++;
                    missing--;
                }
                
                completeCount.innerHTML = `<i class="fas fa-check-circle text-success"></i> Complete: ${complete}`;
                pendingCount.innerHTML = `<i class="fas fa-clock text-warning"></i> Pending: ${pending}`;
                missingCount.innerHTML = `<i class="fas fa-times-circle text-danger"></i> Missing: ${missing}`;
                
                // Add to uploaded documents list
                const noDocumentsMessage = document.getElementById('noDocumentsMessage');
                const uploadedDocumentsList = document.getElementById('uploadedDocumentsList');
                
                uploadedDocumentsList.innerHTML = '';
                
                if (passport || visa || additional.length > 0) {
                    noDocumentsMessage.style.display = 'none';
                    uploadedDocumentsList.style.display = 'block';
                    
                    // Add passport if uploaded
                    if (passport) {
                        const passportDoc = createDocumentItem('Passport', 'Pending Verification', passport);
                        uploadedDocumentsList.appendChild(passportDoc);
                    }
                    
                    // Add visa if uploaded
                    if (visa) {
                        const visaDoc = createDocumentItem('Visa', 'Pending Verification', visa);
                        uploadedDocumentsList.appendChild(visaDoc);
                    }
                    
                    // Add additional documents if uploaded
                    for (let i = 0; i < additional.length; i++) {
                        const additionalDoc = createDocumentItem(`Additional Document ${i+1}`, 'Pending Verification', additional[i]);
                        uploadedDocumentsList.appendChild(additionalDoc);
                    }
                }
            });
            
            function createDocumentItem(name, status, file) {
                const docItem = document.createElement('div');
                docItem.className = 'uploaded-document';
                
                // Determine icon based on file type
                let iconClass = 'fa-file';
                if (name === 'Passport') iconClass = 'fa-passport';
                else if (name === 'Visa') iconClass = 'fa-id-card';
                else if (file.type === 'application/pdf') iconClass = 'fa-file-pdf';
                else if (file.type.startsWith('image/')) iconClass = 'fa-file-image';
                
                // Determine status class
                let statusClass = 'pending';
                if (status === 'Verified') statusClass = 'verified';
                else if (status === 'Rejected') statusClass = 'rejected';
                
                docItem.innerHTML = `
                    <div class="document-icon">
                        <i class="fas ${iconClass}"></i>
                    </div>
                    <div class="document-info">
                        <div class="document-name">${name}</div>
                        <div class="document-meta">
                            <span class="document-status ${statusClass}">${status}</span>
                            <span class="document-date">Uploaded: ${new Date().toLocaleString()}</span>
                            <span class="document-file">${file.name} (${formatFileSize(file.size)})</span>
                        </div>
                    </div>
                    <div class="document-actions">
                        <button class="document-action-btn view">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="document-action-btn download">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="document-action-btn delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                // Add action button functionality (in a real app)
                const viewBtn = docItem.querySelector('.view');
                const downloadBtn = docItem.querySelector('.download');
                const deleteBtn = docItem.querySelector('.delete');
                
                viewBtn.addEventListener('click', function() {
                    // In a real app, we would display the document in a modal
                    alert(`Viewing ${name}`);
                });
                
                downloadBtn.addEventListener('click', function() {
                    // In a real app, we would download the document
                    alert(`Downloading ${name}`);
                });
                
                deleteBtn.addEventListener('click', function() {
                    // In a real app, we would delete the document from the server
                    if (confirm(`Are you sure you want to delete this ${name} document?`)) {
                        docItem.remove();
                        if (uploadedDocumentsList.children.length === 0) {
                            uploadedDocumentsList.style.display = 'none';
                            noDocumentsMessage.style.display = 'block';
                        }
                    }
                });
                
                return docItem;
            }
            
            // Logout functionality
            document.getElementById('logoutBtn').addEventListener('click', function(e) {
                e.preventDefault();
                // In a real app, this would handle the logout process
                alert('Logout functionality would be implemented here.');
                window.location.href = 'index.html';
            });
        });
    </script>
</body>
</html> 